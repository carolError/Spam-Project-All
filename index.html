<!doctype html>
<html lang="en">
    <head>


        <title>Spam Project</title>
        <meta charset="utf-8">

        <link href='http://fonts.googleapis.com/css?family=Armata' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="js/popUpScript.js"></script>

        <script src="js/three.min.js"></script>
        <script src="js/ColladaLoader.js"></script>
        <script src="js/MorphAnimMesh.js"></script>
        <script src="js/MorphAnimation.js"></script>
        <script src="js/OrbitControls.js"></script>
        <script src="js/Animation.js"></script>
        <script src="js/AnimationHandler.js"></script>

        <style>

            a.issueI {
                position: absolute;
                top: 80%;
                width: 100%; 
                left: 10%;
                /*text-align: center;*/
                font-size: 2.1 em;
                font-family: "Armata";
                outline: 0;
                color: 00ff00;
            }

            a.issueII {
                position: absolute;
                top: 80%;
                width: 100%; 
                left: 80%;
                /*text-align: center;*/
                font-size: 2.1 em;
                font-family: "Armata";
                outline: 0;
                color: 00ff00;
            }

            a { color: blue; }
            a:hover { color: red; }

            div.info {
                top: 20%; 
                /*width: 100%; */
                color: #0000ff; 
                /*text-align: center;*/ 
                font-size: 2.1 em; 
                font-family: Armata; 
                position: absolute;
            }

        </style>
            
            
        <script>

            var mouseX=0, mouseY=0;

            function changeLinkColor(id){
                document.getElementById(id).style.color='#ff0000'
            }

            function storeMouse(event) {
                mouseX = event.clientX;
                mouseY = event.clientY;
            }

        </script>

    </head>



    <body  style="margin: 0; padding: 0; overflow: hidden;">
        <div class="container">
            <div class="info">
                SPAM PROJECT
            </div>
            <a  class='issueI' id="issuelinkI" href='/nuevo/Spam_Project_I' onclick="changeLinkColor('issuelinkI')">ISSUE I</a>
            <a  class='issueII' id="issuelinkII" href='/nuevo/Spam_Project_II' onclick="changeLinkColor('issuelinkII')">ISSUE II</a>
            
        </div>


        <script>
            
            var WIDTH = window.innerWidth;
			var HEIGHT = window.innerHeight;
           
           var renderer, scene, camera;
            
            var loaderCaro;

            var models = [];
            


            var clock = new THREE.Clock();
            var textGeo;
            var tick = 0;
            var handAngle,handAngleDeg;
            var model;
            var a,b,c;
    

            
			
            
            init();
            animate();
            
 
            
            
            function init(font) {

             
                var WIDTH = window.innerWidth;
                var HEIGHT = window.innerHeight;
                renderer = new THREE.WebGLRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight );
                document.body.appendChild( renderer.domElement );

                renderer.setClearColor( 0xffffff, 1 );

                var info = document.getElementsByClassName('info');
                InfoPosX = WIDTH/2-50;
                InfoPosY = (HEIGHT/16)*2;
                info[0].style.left = InfoPosX+'px';
                info[0].style.top = InfoPosY+'px';
                var issueI = document.getElementsByClassName('issueI');
                I1posX = WIDTH/4-30;
                I1posY = (HEIGHT/16)*12;
                issueI[0].style.left = I1posX+'px';
                issueI[0].style.top = I1posY+'px';
                var issueII = document.getElementsByClassName('issueII');
                I2posX = (WIDTH/4)*3-30;
                I2posY = (HEIGHT/16)*12;
                issueII[0].style.left = I2posX+'px';
                issueII[0].style.top =I2posY+'px';

                a = I2posX - WIDTH/2;
                b = I2posY - InfoPosY;
                console.log (a,b);
                c = Math.sqrt(a*a+b*b);

                scene = new THREE.Scene();

                camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );
                camera.position.set(0,0,2);
                camera.up = new THREE.Vector3(0,1,0);
                scene.add(camera);

                /*
                var light =  new THREE.SpotLight( 0xffffff,1 );
                light.position.set(0,0,0);
                light.target.position.set(0,0,0); 
                scene.add(light); 
                scene.add( light.target );
                */ 

                
                window.onmousemove = storeMouse;


                loaderCaro = new THREE.JSONLoader();
                loaderCaro.load ("data/hand.json", addModel_caro);

                function addModel_caro( geometry, materials){
                    //var material = materials[ 0 ];
                    var material_hand = new THREE.MeshBasicMaterial({ color:0xff0000, wireframe:true });
                    var material = new THREE.MeshNormalMaterial();
                    model = new THREE.Mesh (geometry, material);
                    model.geometry.applyMatrix( new THREE.Matrix4().makeTranslation(0, 0, -5 ) );
                    model.position.set(0,1.5,-1);
                    model.rotation.set(THREE.Math.degToRad(55),THREE.Math.degToRad(180),THREE.Math.degToRad(15));
                    model.scale.set (0.3,0.3,0.3);
                    model.verticesNeedUpdate = true;
                    //console.log(model);
                    scene.add(model);

                }  
 
            }

            function map(val, minin, maxin, minout, maxout){
                val = Math.max(val, minin);
                val = Math.min(val, maxin);
                return (val - minin) * ((maxout - minout) / (maxin - minin)) + minout;
            }

            function animate() {
                requestAnimationFrame( animate );
                
                if (model){
                    angle = Math.acos( b / c ) * 0.7;
                    handAngle = map(mouseX, I1posX, I2posX, -angle*1.2, angle);

                    model.rotation.y = model.rotation.y * 0.9 + (handAngle + THREE.Math.degToRad(180)) * 0.1;
                }
               
                //console.log(mouseX);
                //console.log(handAngle);
                renderer.render(scene, camera);
                //controls.update();
                
        
    
             
            }

            
    




            
        </script>
    </body>
</html> 